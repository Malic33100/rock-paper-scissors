<!DOCTYPE html lang="en">

<div class="header">
    <header>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="rock paper scissorsstyle">
        <title id="title">Let's play Rock , paper , scissors!</title>
    </header>
</div>

<!-- current issues
// game plays but without user input, 
// fucntion plays before user input is received

-->
<div id="spacer">
    /                       /
    /                       /
    /                       /
</div>

<body id="body">
    <div id="content" name="content" >

    
    <h1>Rock,Paper,scissors</h1>

    <h2>Choose Rock , paper, or scissors below :</h2>

    
    <div class="buttons" id="Input" name="Input">
        <!-- buttons send input to js function  -->  
        <form onsubmit="playerPick()">
            <label for="playerChoice"></label>
            <div id="rock-button">
                <input type="button" class="button btn-default" id="rock" value="Rock">Rock</button>
            </div>
            <div id="paper-button">
                <input type="button" class="button btn-default" id="paper" value="Paper">Paper</button>
            </div>
            <div id="scissors-button">
                <input type="button" class="button btn-default" id="scissors" value="Scissors">Scissors</button>
            </div>
        </form>
    </div>

    </div>

    <script>

var Pick = ["rock","paper","scissors"];
var randomPick = Pick[Math.floor(Math.random()*(Pick.length))];
let buttons = document.querySelectorAll(".button");
let playerRock = document.querySelector("#rock-button");
let playerPaper = document.querySelector("#paper-button");
let playerScissors = document.querySelector("#scissors-button");
var rockRegex = /rock/gi;
var paperRegex = /paper/gi;
var scissorsRegex = /scissors/gi;
let playerSelection;
let value;
//let button = ;
/* let playerPick = document.getElementById("playerChoice"); */

/*
function displayButton(){
//  let button = document.querySelector(button.name); 
    alert(button);
}
*/

// getting players choice via click event
playerRock.addEventListener("click",(e) => {
    let playerSelection = buttons[0].id;
   return oneRound(computerChoice,playerSelection);
})

playerPaper.addEventListener("click",(e) => {
    let playerSelection = buttons[1].id;
    return(oneRound(computerChoice,playerSelection));
})

playerScissors.addEventListener("click",(e) => {
    let playerSelection = buttons[2].id;
   return oneRound(computerChoice,playerSelection);
});

// retrieving player choice and storing inside of variable
function playerPick(){
let buttons = document.querySelectorAll(".button");
let rounds;
rounds++;
    if (playerSelection.match(rockRegex)){
        return playerSelection;
        console.log(oneRound(computerChoice,playerSelection));
    }
    else if (playerSelection.match(scissorsRegex)){
        return playerSelection;
    }
    else {
        return playerSelection;
    }
}

// function that selects random choice of rock,paper,scissors for computer //
function computerPlay() {
return randomPick;
}

 //assigns value of random choice to computer //
 // declaring variables for future use //
var computerChoice = computerPlay(); 
var rounds = 0;
var i = 0;
let PlayerWins = 0;
var computerWins = 0;

// takes both player and computer choice and returns match results one time //
function oneRound(computerChoice,playerSelection) {
if(computerChoice === "rock"){
    if(playerSelection = "paper"){
        PlayerWins++;
        return "Player wins!";
    }
    else if(playerSelection = "scissors"){
        computerWins++;
        return "Computer wins!";
    }
    else{
        return "It's a draw!";
    }
} 
else if(computerChoice === "paper"){
    if(playerSelection = "rock"){
        computerWins++;
    return "Computer wins!";
    }
    else if(playerSelection = "scissors"){
        PlayerWins++;
        return "Player wins!";
    }
    else {
        return "It's a draw!";
    }
    }    
else if(computerChoice ==="scissors"){
    if(playerSelection = "rock"){
        PlayerWins++;
        return "Player wins!";
    }
    else if(playerSelection = "paper"){
        computerWins++;
        return "Computer wins!";
    }
    else{
        return "Its a draw!";
    }
} 
else {
    return "This isnt supposed to happen";
}  
};

// function that plays a game 5 times // 

function game(i){
    for (let i = 0; i < 5; i++){
        console.log(oneRound(computerChoice,playerSelection));
        console.log(Winner(PlayerWins,computerWins));
        console.log(PlayerWins);
        console.log(computerWins);
    }
}

// announces winner in game of 5 rounds //
function Winner (PlayerWins,computerWins){
    if(PlayerWins > 2 ){
        return "Player has won the game! Congratulations!";
    }else if(computerWins > 2){
        return "Computer has won the game! Better luck next time!"
    }
    else {
        return "Game isnt over yet! Keep playing!";
    }
}
;

// checking results and playing the game 6 times //
/*
oneRound(computerChoice,playerSelection);
console.log(playerSelection);
console.log(computerChoice);
console.log(game(5));
console.log(oneRound(computerChoice,playerSelection));
*/



    </script>

    </body>
    </html>